"use strict";exports.id=997,exports.ids=[997],exports.modules={46055:(e,s,a)=>{a.r(s),a.d(s,{default:()=>t});var l=a(31658);let t=async e=>[{type:"image/x-icon",sizes:"128x128",url:(0,l.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},46082:(e,s,a)=>{a.r(s),a.d(s,{"407791ee52a92b9f06062d564e7041b9cef0058d34":()=>r});var l=a(91199);a(42087);var t=a(41635);async function r(e){let s=e.get("first_name");e.get("last_name");let a=e.get("email");e.get("subject");let l=e.get("message"),r=t.createTransport({host:process.env.NAMECHEAP_HOST,port:parseInt(process.env.NAMECHEAP_PORT,10),secure:!0,auth:{user:process.env.NAMECHEAP_USERNAME,pass:process.env.NAMECHEAP_PASSWORD},tls:{rejectUnauthorized:!1}});try{return await r.sendMail({from:process.env.NAMECHEAP_USERNAME,to:"dev@kengitahi.com",subject:`New Message on Mainstreet from ${s}`,text:l,replyTo:a}),{success:!0,message:"Message sent successfuly"}}catch(e){return console.error("Sending error:",e),{success:!1,message:"There was a problem sending the message"}}}(0,a(33331).D)([r]),(0,l.A)(r,"407791ee52a92b9f06062d564e7041b9cef0058d34",null)},84624:(e,s,a)=>{a.d(s,{A:()=>m});var l=a(60687),t=a(43210);let r=[{value:"consultation",label:"Initial Consultation."},{value:"quote",label:"Get a Quote."},{value:"question",label:"Question, query or clarification."},{value:"other",label:"Other."}];var n=a(6475);let o=(0,n.createServerReference)("407791ee52a92b9f06062d564e7041b9cef0058d34",n.callServer,void 0,n.findSourceMapURL,"sendEmail"),i=({label:e})=>(0,l.jsx)("label",{className:"leading-relaxed text-gray-600 font-inter",children:e}),d=({name:e,type:s="text",placeholder:a="",required:t=!1})=>(0,l.jsx)("input",{type:s,name:e,placeholder:a,required:t,className:"border border-gray-600 rounded-lg focus:border-[#232BB1] focus:outline-hidden focus:ring-none focus:ring-offset-0 p-2 w-full"}),c=({name:e,type:s="text",placeholder:a="",required:t=!1})=>(0,l.jsx)("textarea",{name:e,placeholder:a,required:t,className:"border border-gray-600 rounded-lg focus:border-[#232BB1] focus:outline-hidden focus:ring-none focus:ring-offset-0 p-2 w-full"}),u=({children:e,text:s,type:a,disabled:t})=>(0,l.jsxs)("button",{type:a,disabled:t,className:"group flex gap-2 px-8 py-4 text-base font-medium text-center text-white bg-[#232BB1] rounded-lg max-w-fit font-lexend hover:bg-blue-800 focus:ring-4 focus:outline-hidden focus:ring-blue-300 disabled:pointer-events-none disabled:cursor-not-allowed",children:[s,e]});function m(){let{value:e,label:s}=r,[a,n]=(0,t.useState)("idle"),[m,x]=(0,t.useState)(null),[f,h]=(0,t.useState)(null),[g,p]=(0,t.useState)(!1),[b,v]=(0,t.useState)(!1),[j,y]=(0,t.useState)({first_name:"",last_name:"",email:"",message:"",subject:""}),N=async e=>{e.preventDefault();let s=new FormData(e.target);if(function(e){if("object"!=typeof e||null===e)return!0;for(let s of Object.values(e))if(!(s?String(s).trim():""))return!0;return!1}(s))return void h(!0);try{n("pending"),x(null),h(null);let a=await o(s);a.success?(n("ok"),setTimeout(()=>{p(!0)},50),e.target.reset(),y({first_name:"",last_name:"",email:"",message:"",subject:""}),setTimeout(()=>{v(!0),setTimeout(()=>{n("idle"),p(!1),v(!1)},500)},4500)):(n("error"),x(`${a.status} ${a.statusText}`),v(!1),setTimeout(()=>{p(!0)},50))}catch(e){n("error"),x(`${e}`),v(!1),setTimeout(()=>{p(!0)},50)}};return(0,l.jsxs)("div",{className:"contact-form",children:[m&&(0,l.jsxs)("p",{children:["Error: ",m]}),(0,l.jsxs)("form",{name:"main-contact-form",onSubmit:N,children:[(0,l.jsxs)("div",{className:"flex flex-col gap-4 mb-4 md:flex-row",children:[(0,l.jsx)("input",{type:"hidden",name:"form-name",value:"main-contact-form"}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 gap-2",children:[(0,l.jsx)(i,{label:"First Name:"}),(0,l.jsx)(d,{name:"first_name",placeholder:"e.g. John",value:j.first_name,onChange:e=>y({...j,first_name:e.target.value}),required:!0})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 gap-2",children:[(0,l.jsx)(i,{label:"Last Name:"}),(0,l.jsx)(d,{name:"last_name",placeholder:"e.g. Doe",value:j.last_name,onChange:e=>y({...j,last_name:e.target.value}),required:!0})]})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 gap-2 mb-4",children:[(0,l.jsx)(i,{label:"Your Email:"}),(0,l.jsx)(d,{type:"email",name:"email",placeholder:"e.g. john.doe@example.com",value:j.email,onChange:e=>y({...j,email:e.target.value}),required:!0})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 gap-2 mb-4",children:[(0,l.jsx)(i,{label:"The Subject of Your Message:"}),(0,l.jsxs)("select",{name:"subject",className:"border border-gray-600 rounded-lg focus:border-[#232BB1] focus:outline-hidden focus:ring-none focus:ring-offset-0 p-2 w-full",value:j.subject,onChange:e=>y({...j,subject:e.target.value}),required:!0,children:[(0,l.jsx)("option",{value:"",className:"italic text-gray-600 font-inter",disabled:!0,children:"Please choose one"}),r.map(({value:e,label:s})=>(0,l.jsx)("option",{value:e,className:"text-gray-600 font-inter",children:s},e))]})]}),(0,l.jsxs)("div",{className:"flex flex-col flex-1 gap-2 mb-4",children:[(0,l.jsx)(i,{label:"Message:"}),(0,l.jsx)("small",{className:"font-semibold text-gray-500",children:"Please be as detailed as possible"}),(0,l.jsx)(c,{name:"message",required:!0,placeholder:"e.g. Hello, I need a quote",value:j.message,onChange:e=>y({...j,message:e.target.value})})]}),"ok"===a&&(0,l.jsx)("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${b?"max-h-0 opacity-0 mb-0":g?"max-h-32 opacity-100 mb-4":"max-h-0 opacity-0 mb-0"}`,children:(0,l.jsxs)("div",{className:"p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"font-medium",children:"Success! Thank you so much, your message has been sent successfully."})]}),(0,l.jsx)("span",{className:"font-medium",children:"We will get back to you shortly (typically within a few hours)."})]})}),"error"===a&&(0,l.jsx)("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${b?"max-h-0 opacity-0 mb-0":g?"max-h-32 opacity-100 mb-4":"max-h-0 opacity-0 mb-0"}`,children:(0,l.jsx)("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"font-medium",children:"There was an issue sending the form. Please try again."})]})})}),"error"===a&&(0,l.jsx)("div",{className:`overflow-hidden transition-all duration-500 ease-in-out ${b?"max-h-0 opacity-0 mb-0":g?"max-h-32 opacity-100 mb-4":"max-h-0 opacity-0 mb-0"}`,children:(0,l.jsx)("div",{className:"p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,l.jsx)("span",{className:"font-medium",children:"There was an issue with the data you entered above. Please try again."})]})})}),"pending"===a&&(0,l.jsxs)(u,{type:"button",disabled:!0,children:[(0,l.jsxs)("svg",{className:"mr-3 -ml-1 size-5 animate-spin text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending Message"]}),"idle"==a&&(0,l.jsx)(u,{type:"submit",text:"Send Message",children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"transition-transform size-6 group-hover:translate-x-2 transition-duration-200",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"})})})]})]})}}};